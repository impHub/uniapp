(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/index"],{"40fd":function(n,e,t){"use strict";var u={uNavbar:function(){return t.e("uview-ui/components/u-navbar/u-navbar").then(t.bind(null,"75ba"))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-input/u-input")]).then(t.bind(null,"3270"))},uButton:function(){return t.e("uview-ui/components/u-button/u-button").then(t.bind(null,"8d7f"))},uForm:function(){return t.e("uview-ui/components/u-form/u-form").then(t.bind(null,"76bd"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"0e48"))},uIcon:function(){return t.e("uview-ui/components/u-icon/u-icon").then(t.bind(null,"ae25"))},uSelect:function(){return t.e("uview-ui/components/u-select/u-select").then(t.bind(null,"8793"))}},o=function(){var n=this,e=n.$createElement,t=(n._self._c,n.validMobile());n._isMounted||(n.e0=function(e){n.loginType="account"},n.e1=function(e){n.loginType="mobile"}),n.$mp.data=Object.assign({},{$root:{m0:t}})},i=[];t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return u}))},"676a":function(n,e,t){"use strict";t.r(e);var u=t("7ffb"),o=t.n(u);for(var i in u)"default"!==i&&function(n){t.d(e,n,(function(){return u[n]}))}(i);e["default"]=o.a},"75b5":function(n,e,t){"use strict";(function(n){t("6ac9");u(t("66fd"));var e=u(t("86e1"));function u(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"7ffb":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=o(t("4e6a"));function o(n){return n&&n.__esModule?n:{default:n}}var i={data:function(){return{loginType:"account",mobile:"",com:{show:!1,list:[]},form:{username:"",password:"",villageId:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:["change","blur"],min:4}],password:[{required:!0,message:"请输入密码",trigger:["change","blur"],min:6}]}}},computed:{inputStyle:function(){var n={};return this.mobile&&(n.color="#fff",n.backgroundColor=this.$u.color["warning"]),n}},onReady:function(){this.$refs.accountForm.setRules(this.rules)},mounted:function(){},methods:{validMobile:function(){return this.$u.test.mobile(this.mobile)},getCaptcha:function(){this.validMobile()&&this.$u.route({url:"/pages/login/code",params:{mobile:this.mobile}})},chooseCom:function(n){Array.isArray(n)&&n.length>0&&(this.form.villageId=n[0].value,this.submit())},submit:function(){var n=this;this.$refs.accountForm.validate((function(e){e?n.$u.api.login({loginName:n.form.username,password:u.default.md5(n.form.password),villageId:n.form.villageId}).then((function(e){Array.isArray(e)&&e.length>0?(n.com.list=e,n.com.show=!0):n.$u.login(e)})):console.log("验证失败")}))}}};e.default=i},"86e1":function(n,e,t){"use strict";t.r(e);var u=t("40fd"),o=t("676a");for(var i in o)"default"!==i&&function(n){t.d(e,n,(function(){return o[n]}))}(i);t("c116");var r,a=t("f0c5"),c=Object(a["a"])(o["default"],u["b"],u["c"],!1,null,"4fec143b",null,!1,u["a"],r);e["default"]=c.exports},"99e8":function(n,e,t){},c116:function(n,e,t){"use strict";var u=t("99e8"),o=t.n(u);o.a}},[["75b5","common/runtime","common/vendor"]]]);